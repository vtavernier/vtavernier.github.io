<!DOCTYPE html><html class=2xl:text-[20px] dir=ltr lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1" name=viewport><title>Git is your friend, not your enemy — Part 2 — The Tavern</title><meta content=index,follow name=robots /><meta content="Git is a helpful tool when it's actually part of your workflow instead of fighting against it. Learn how to use Git to make it this way!" name=description /><meta content=summary_large_image name=twitter:card /><meta content="Git is your friend, not your enemy — Part 2" property=og:title /><meta content="Git is a helpful tool when it's actually part of your workflow instead of fighting against it. Learn how to use Git to make it this way!" property=og:description /><meta content=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ property=og:url /><meta content=article property=og:type /><meta content=https://vtavernier.github.io/_astro/git-01.c9d7dd9d.jpg property=og:image /><meta content="Git is your friend, not your enemy — Part 2" property=og:image:alt /><link href=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ rel=canonical /><style is:global>:root{--aw-font-sans:'InterVariable';--aw-font-serif:var(--aw-font-sans);--aw-font-heading:var(--aw-font-sans);--aw-color-primary:rgb(89 30 100);--aw-color-secondary:rgb(94 30 100);--aw-color-accent:rgb(100 59 40);--aw-color-text-page:rgb(39 17 39);--aw-color-text-muted:rgb(97 75 99);--aw-color-bg-page:rgb(255 255 255)}</style><meta content=9T4KIucFxDdjqi0gdKxvMbVSluLphiFhgBc3iCSAKqk name=google-site-verification><link href=/favicon.ico rel="shortcut icon"><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/favicon.svg rel=mask-icon color=#8D46E7><link href=/_astro/index.2c3acd75.css rel=stylesheet /><link href=/_astro/index.05afb7b9.css rel=stylesheet /><script type=module>const t=document.createElement("script"),a=document.querySelector("#utterances-container"),e=a.attributes;Object.entries({src:"https://utteranc.es/client.js",repo:e["data-repo"].value,"issue-term":e["data-issue-term"].value,label:e["data-label"].value,theme:e["data-theme"].value,crossorigin:"anonymous"}).forEach((([e,a])=>{t.setAttribute(e,a)})),a?.appendChild(t)</script></head><body class="dark:text-zinc-300 antialiased bg-light dark:bg-dark text-page tracking-tight"><header class="mx-auto w-full duration-100 ease-in flex-none sticky top-0 transition-all z-40" id=header><div class="mx-auto max-w-7xl md:flex md:justify-between md:px-4 md:py-3.5 px-3 py-3 w-full"><div class="flex justify-between"><a href=/ class="items-center flex"><span class="ml-2 dark:text-white font-bold md:text-xl self-center text-2xl text-gray-900 whitespace-nowrap"><svg viewBox="0 0 68.792 68.792" class=inline height=32 width=32><g style=fill:#2f3136;stroke:#8aa2d3;stroke-width:1.98438><path d="M30.088 56.162V24.233h13.89v31.93ZM6.068 20.085V6.195h63.183l-13.89 13.89Z" transform="translate(-3.264 3.218)"></path></g></svg> The Tavern</span></a><div class="items-center flex md:hidden"><button class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm hover:bg-gray-100 dark:hover:bg-gray-800 ml-1.5 text-gray-500 transition" aria-label="Toggle Menu" data-aw-toggle-menu type=button><svg viewBox="0 0 24 24" class="h-6 w-6" astro-icon=tabler:menu preserveAspectRatio="xMidYMid meet" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M4 8h16"/><path d="M4 16h16"/></g></svg></button></div></div><nav aria-label="Main navigation" class="items-center hidden md:flex dark:text-zinc-200 h-[calc(100vh-72px)] md:h-auto md:mx-5 md:overflow-visible md:w-auto overflow-y-auto w-full"><ul class="flex flex-col md:flex-row md:pt-0 md:self-center md:text-base md:w-auto pt-8 text-xl w-full"><li class=""><a href=/posts/ class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-gray-900 px-4 py-3 transition">Blog</a></li><li class=""><a href=https://github.com/stars/vtavernier/lists/star-showcase class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-gray-900 px-4 py-3 transition">Projects</a></li><li class=""><a href=/research/ class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-gray-900 px-4 py-3 transition">Research</a></li><li class=""><a href=/about/ class="items-center flex dark:hover:text-white duration-150 ease-in-out font-medium hover:text-gray-900 px-4 py-3 transition">About me</a></li></ul></nav><div class="items-center flex md:mb-0 md:self-center"><div class="items-center hidden md:flex"><a href=/rss.xml class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-gray-700 hover:bg-gray-100" aria-label="RSS Feed"><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:rss><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=5 cy=19 r=1 /><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg></a></div></div></div></header><main><section class="mx-auto lg:py-20 py-8 sm:py-16"><article><header class=""><div class="flex flex-col justify-between max-w-3xl mx-auto sm:flex-row sm:px-6 mb-2 mt-0 px-4 sm:items-center"><p><svg viewBox="0 0 24 24" class="inline-block h-4 w-4 -mt-0.5 dark:text-gray-400" astro-icon=tabler:clock><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=12 cy=12 r=9 /><path d="M12 7v5l3 3"/></g></svg> <time datetime="Mon Jan 25 2021 00:00:00 GMT+0000 (Coordinated Universal Time)">Jan 25, 2021</time> · <a href=/category/tutorials/ class="capitalize hover:underline">tutorials</a></p></div><h1 class="mx-auto sm:px-6 max-w-3xl px-4 font-bold font-heading leading-tighter md:text-5xl text-4xl tracking-tighter">Git is your friend, not your enemy — Part 2</h1><p class="mx-auto sm:px-6 max-w-3xl px-4 dark:text-zinc-400 mb-8 md:text-2xl mt-4 text-muted text-xl">Solving merge conflicts and rewriting history to keep it clean and tidy.</p><picture><source sizes="(max-width: 900px) 400px, 900px" srcset="/_astro/git-01.c9d7dd9d_Z1InPms.avif 400w,/_astro/git-01.c9d7dd9d_1usRhL.avif 900w" type=image/avif><source sizes="(max-width: 900px) 400px, 900px" srcset="/_astro/git-01.c9d7dd9d_Z1031oG.webp 400w,/_astro/git-01.c9d7dd9d_2dNGfx.webp 900w" type=image/webp><source sizes="(max-width: 900px) 400px, 900px" srcset="/_astro/git-01.c9d7dd9d_BcYTO.jpg 400w,/_astro/git-01.c9d7dd9d_Z24xhhu.jpg 900w" type=image/jpeg><img alt="Git is a helpful tool when it's actually part of your workflow instead of fighting against it. Learn how to use Git to make it this way!" class="mx-auto bg-gray-400 dark:bg-zinc-700 lg:max-w-6xl max-w-full mb-6 sm:rounded-md" decoding=async height=506 loading=eager src=/_astro/git-01.c9d7dd9d_Z24xhhu.jpg width=900></picture></header><div class="mx-auto sm:px-6 max-w-3xl px-6 mt-8 dark:prose-a:text-purple-400 dark:prose-headings:text-zinc-300 dark:prose-invert prose prose-a:text-primary prose-headings:font-bold prose-headings:font-heading prose-headings:leading-tighter prose-headings:tracking-tighter prose-img:rounded-md prose-img:shadow-lg prose-md"><blockquote><p>This post is the second part of a tutorial series on how to use Git to its full potential. Read the first part <a href=../git-is-your-friend-part-1/ >here</a>.</p></blockquote><p>We ended the previous part of this tutorial on merging local changes with remote changes. That last part assumed there was no merge conflict — a situation you may have already encountered in the wild. We will now look at how to solve those conflicts efficiently, which becomes critical for the next part, maintaining a clean Git history using interactive rebasing.</p><h1 id=solving-merge-conflicts-with-a-merge-tool>Solving merge conflicts with a merge tool</h1><p>Let us start with the following situation:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>    C origin/master</span></span>
<span class=line><span style=color:#f8f8f2>   /</span></span>
<span class=line><span style=color:#f8f8f2>  A---B master</span></span></code></pre><p>We can visualize this in our terminal:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git log --all --oneline --graph</span>
* <span style=color:olive>d105f20</span><span style=color:olive> (</span><span style=font-weight:700;color:green>origin/master</span><span style=color:olive>)</span> Add success return to main
<span style=color:red>|</span> * <span style=color:olive>836ba41</span><span style=color:olive> (</span><span style=font-weight:700;color:teal>HEAD -&gt; </span><span style=font-weight:700;color:green>master</span><span style=color:olive>)</span> Add error return to main
<span style=color:red>|</span><span style=color:red>/</span>  
* <span style=color:olive>a5aea3c</span> Initial commit
</pre></div><p>If, from the <code>master</code> branch we try to use <code>git pull</code> (effectively running <code>git merge origin/master</code>), we will end up with the following warning from Git: <a id=conflicted-state-1></a></p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git pull</span>
From .
 * branch            origin/master -&gt; FETCH_HEAD
Auto-merging main.c
CONFLICT (content): Merge conflict in main.c
Automatic merge failed; fix conflicts and then commit the result.
</pre></div><p>This means — exactly as mentioned by the Git output — that there is no way to automatically merge changes from the two branches being merged. Indeed, if we look at the <code>master</code> branch, this is our (local) change:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git show master --oneline</span>
<span style=color:olive>836ba41cac2a63cb2e060dfb5fdc9c6bdea82882</span> Add error return to main
<span style=font-weight:700>diff --git a/main.c b/main.c</span>
<span style=font-weight:700>index 0a502e4..dd314f9 100644</span>
<span style=font-weight:700>--- a/main.c</span>
<span style=font-weight:700>+++ b/main.c</span>
<span style=color:teal>@@ -2,4 +2,5 @@</span>
 #include &lt;stdlib.h&gt;
 
 int main(int argc, char *argv[]) {
<span style=color:green>+</span>	<span style=color:green>return 1;</span>
 }
</pre></div><p>While the <code>origin/master</code> had those (remote) — incompatible — changes:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git show origin/master --oneline</span>
<span style=color:olive>d105f20e3f19cdc2786d374e73f9f4cd8aa560ec</span> Add success return to main
<span style=font-weight:700>diff --git a/main.c b/main.c</span>
<span style=font-weight:700>index 0a502e4..296c7ac 100644</span>
<span style=font-weight:700>--- a/main.c</span>
<span style=font-weight:700>+++ b/main.c</span>
<span style=color:teal>@@ -2,4 +2,5 @@</span>
 #include &lt;stdlib.h&gt;
 
 int main(int argc, char *argv[]) {
<span style=color:green>+</span>	<span style=color:green>return 0;</span>
 }
</pre></div><p>How do we fix those changes?</p><h2 id=the-manual-bad-way>The manual (bad) way</h2><p>Upon discovering the <code>fix conflicts and then commit the result</code> message from Git, the inexperienced Git user might do exactly as suggested. They would open the files in conflict one-by-one in their editor, and be greeted with this interesting syntax:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#ff79c6>#include</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>&lt;</span><span style=color:#f1fa8c>stdio.h</span><span style=color:#e9f284>&gt;</span></span>
<span class=line><span style=color:#ff79c6>#include</span><span style=color:#f8f8f2> </span><span style=color:#e9f284>&lt;</span><span style=color:#f1fa8c>stdlib.h</span><span style=color:#e9f284>&gt;</span></span>
<span class=line></span>
<span class=line><span style=color:#ff79c6>int</span><span style=color:#f8f8f2> </span><span style=color:#50fa7b>main</span><span style=color:#f8f8f2>(</span><span style=color:#ff79c6>int</span><span style=color:#f8f8f2> </span><span style=color:#ffb86c>argc</span><span style=color:#f8f8f2>, </span><span style=color:#ff79c6>char</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>*</span><span style=color:#ffb86c>argv</span><span style=color:#ff79c6>[]</span><span style=color:#f8f8f2>) {</span></span>
<span class=line><span style=color:#ff79c6>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span><span style=color:#f8f8f2> HEAD</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>1</span><span style=color:#f8f8f2>;</span></span>
<span class=line><span style=color:#ff79c6>=======</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>return</span><span style=color:#f8f8f2> </span><span style=color:#bd93f9>0</span><span style=color:#f8f8f2>;</span></span>
<span class=line><span style=color:#ff79c6>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><span style=color:#f8f8f2> d105f20e3f19cdc2786d374e73f9f4cd8aa560ec</span></span>
<span class=line><span style=color:#f8f8f2>}</span></span></code></pre><p>The <code>&lt;&lt;&lt;</code>, <code>===</code> and <code>&gt;&gt;&gt;</code> character sequences are called <em>conflict markers</em>, since they mark a region of the file as in conflict. The name following <code>&lt;&lt;&lt;</code> is the local revision name (<code>HEAD</code> since we are merging into the current branch), and similarly the name following <code>&gt;&gt;&gt;</code> is the remote revision name (here denoted by its commit SHA).</p><p>The first region between <code>&lt;&lt;&lt;</code> and <code>===</code> contains the changes brought by the local revisions, and the second region between <code>===</code> and <code>&gt;&gt;&gt;</code> the changes from the remote revisions. To solve the merge conflict, we need to pick which region needs to be merged in.</p><p>The <em>manual</em> way to do it is to remove the conflict markers, and the region we do not want to keep in the resulting file. After closing the editor, running <code>git status</code> informs us of the current state of the repository:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
On branch master
Your branch and 'origin/master' have diverged,
and have 1 and 1 different commits each, respectively.
  (use &quot;git pull&quot; to merge the remote branch into yours)

You have unmerged paths.
  (fix conflicts and run &quot;git commit&quot;)
  (use &quot;git merge --abort&quot; to abort the merge)

Unmerged paths:
  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)
	 <span style=color:red>both modified:   main.c</span>

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre></div><p>Indeed, writing to a file does not inform Git that the conflict has been resolved. You need to mark the conflict as resolved with <code>git add main.c</code> (since <code>main.c</code> is the file that we resolved conflicts in) before finishing the merge with <code>git commit</code>:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git add main.c</span>
$ <span style=font-weight:700;color:#fff>git commit --no-edit</span> <span style=color:gray># --no-edit skips opening the editor</span>
[master 8738275] Merge branch 'origin/master'
</pre></div><p><em><strong>Make sure you solved all the conflicts</strong></em>: if you call <code>git add</code> on a file which still has conflict markers, there will be no warnings and you will commit corrupted files to your repository. Nothing that can’t be fixed, but this is hard to fix for future maintainers. Especially if you don’t have continuous integration set up to catch those mistakes early…</p><p>Since this process has multiple points of failure, we should try to find a <em>better</em> method, which does not have this many pitfalls. Thankfully, Git has us covered.</p><h2 id=the-automated-good-way>The automated (good) way</h2><p>In order to automate the conflict resolution process, Git supports so-called <em>merge tools</em>: programs that will be run by Git in order to help the user fix conflicts by picking the right options on every conflicted region. First, we need to configure a <em>merge tool</em>. We will use the graphical tool <a href=https://meldmerge.org/ >Meld</a>, although many others are available<sup><a href=#user-content-fn-other-merge-tools aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-other-merge-tools>1</a></sup>.</p><p>First, install Meld using your distribution’s package manager:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#6272a4># Debian/Ubuntu</span></span>
<span class=line><span style=color:#f8f8f2>$ sudo apt install meld</span></span>
<span class=line><span style=color:#6272a4># Fedora</span></span>
<span class=line><span style=color:#f8f8f2>$ sudo dnf install meld</span></span></code></pre><p>Then, we need to indicate to Git we want to use Meld as our merge tool:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>$ git config --global merge.tool meld</span></span></code></pre><p>We are now ready to go! Let’s go back to the <a href=#conflicted-state-1>conflicted state</a>. Then, instead of fixing the conflicts manually, we run the following command:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>$ git mergetool</span></span></code></pre><p>The main window of Meld opens:</p><p></p><figure class="flex flex-col"><img alt="Meld initial window" class=mx-auto decoding=async height=400 loading=lazy src=/_astro/meld-initial-conflict.3bd0e87f_Z1x5nY.png width=1433></figure><p></p><p>As indicated in the headers of the panels:</p><ul><li>The left panel represents the state of the file after local changes: this is our <code>master</code> branch we are merging into</li><li>The middle panel is the current state of the file we are building (where conflicts are solved).</li><li>The right panel represents the state of the file after remote changes: this is the <code>origin/master</code> branch we are merging into the <code>master</code> branch.</li></ul><p>Clicking on the arrows between the left (resp. right) panel will bring in the changes from the local (resp. remote) branches:</p><p></p><figure class="flex flex-col"><img alt="Meld window after conflict resolution" class=mx-auto decoding=async height=400 loading=lazy src=/_astro/meld-resolved-conflicts.6689eaea_Z94a31.png width=1433></figure><p></p><p>You can then save the changes with the <code>Menu &gt; Save all</code> option, or with <code>Ctrl+s</code>. When you have solved the conflict, you can quit Meld and check the status of our repository:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git status</span>
On branch master
Your branch and 'origin/master' have diverged,
and have 1 and 1 different commits each, respectively.
  (use &quot;git pull&quot; to merge the remote branch into yours)

All conflicts fixed but you are still merging.
  (use &quot;git commit&quot; to conclude merge)

Changes to be committed:
	 <span style=color:green>modified:   main.c</span>

Untracked files:
  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
	 <span style=color:red>main.c.orig</span>
</pre></div><p>Two things are worth noting here:</p><ul><li>The <code>main.c</code> file was automatically added as all the conflicts were resolved using Meld, so we don’t have to call <code>git add main.c</code> (that’s one step saved!)</li><li><code>main.c.orig</code> was created: this is a backup copy of <code>main.c</code> before the conflict resolution happened. We can remove it once we’re sure the merge completed successfully.</li></ul><p>We may then complete our merge process by running <code>git commit</code>.</p><h2 id=merge-tools-conclusion>Merge tools: conclusion</h2><p>Using a merge tool streamlines the merge conflict resolution process by ensuring we do not miss a step — and also saves us a lot of typing and manually editing files. Since you will encounter merge conflicts regularly while using Git and collaborating with other people, it’s a good idea to properly set up your <em>merge tool</em> so you don’t feel like smashing your keyboard on merge conflicts.</p><p>More complicated merge conflicts might be hard to resolve though, especially when working with someone else’s changes. This is why having a clean Git history is critical, so you can look at it when resolving a merge conflict and make informed decisions. Thankfully, Git also has us covered.</p><h1 id=rewriting-local-history-with-git-rebase>Rewriting local history with <code>git rebase</code></h1><p>We already encountered rebasing in this tutorial: the <code>git pull --rebase</code> commands <em>rebases</em> (changes the parent of) a set of commits onto the current state of the remote branch in order to be able to push. However, we can rebase any set of commits while working locally, not just in the case of a pull.</p><p>Let’s consider the following situation, with two branches <code>feature</code> and <code>master</code>:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>        A---B---C feature</span></span>
<span class=line><span style=color:#f8f8f2>       /</span></span>
<span class=line><span style=color:#f8f8f2>  D---E---F---G master</span></span></code></pre><p>Running <code>git rebase master feature</code> will <em>rebase</em> the <code>feature</code> branch onto the <code>master</code> branch, resulting in this state:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>                A&#39;---B&#39;---C&#39; feature</span></span>
<span class=line><span style=color:#f8f8f2>               /</span></span>
<span class=line><span style=color:#f8f8f2>  D---E---F---G master</span></span></code></pre><p>Since Git has to rewrite every commit in the range being rebased, we also have the option to change the contents being committed at each step. This is what the <code>-i</code> option of Git rebase allows us to do: enter <em>interactive rebasing</em>.</p><h2 id=interactive-rebasing>Interactive rebasing</h2><p>When rebasing, you specify which commit (by its SHA, branch name, tag name, etc.) should be the last kept intact. All the following commits up to <code>HEAD</code> (the latest commit on the current branch) will be rebased — or <code>--root</code> to rebase all the way to the beginning of your repository’s history.</p><p>After running <code>git rebase -i --root</code> on this article’s tutorial, Git opens the configured text editor on the <em>todo file</em> below:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>pick a5aea3c Initial commit</span></span>
<span class=line><span style=color:#f8f8f2>pick 836ba41 Add error return to main</span></span>
<span class=line><span style=color:#f8f8f2>pick d105f20 Add success return to main</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4># Rebase 1813570 onto 0625853 (3 commands)</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># Commands:</span></span>
<span class=line><span style=color:#6272a4># p, pick &lt;commit&gt; = use commit</span></span>
<span class=line><span style=color:#6272a4># r, reword &lt;commit&gt; = use commit, but edit the commit message</span></span>
<span class=line><span style=color:#6272a4># e, edit &lt;commit&gt; = use commit, but stop for amending</span></span>
<span class=line><span style=color:#6272a4># s, squash &lt;commit&gt; = use commit, but meld into previous commit</span></span>
<span class=line><span style=color:#6272a4># f, fixup &lt;commit&gt; = like &quot;squash&quot;, but discard this commit&#39;s log message</span></span>
<span class=line><span style=color:#6272a4># x, exec &lt;command&gt; = run command (the rest of the line) using shell</span></span>
<span class=line><span style=color:#6272a4># b, break = stop here (continue rebase later with &#39;git rebase --continue&#39;)</span></span>
<span class=line><span style=color:#6272a4># d, drop &lt;commit&gt; = remove commit</span></span>
<span class=line><span style=color:#6272a4># l, label &lt;label&gt; = label current HEAD with a name</span></span>
<span class=line><span style=color:#6272a4># t, reset &lt;label&gt; = reset HEAD to a label</span></span>
<span class=line><span style=color:#6272a4># m, merge [-C &lt;commit&gt; | -c &lt;commit&gt;] &lt;label&gt; [# &lt;oneline&gt;]</span></span>
<span class=line><span style=color:#6272a4># .       create a merge commit using the original merge commit&#39;s</span></span>
<span class=line><span style=color:#6272a4># .       message (or the oneline, if no original merge commit was</span></span>
<span class=line><span style=color:#6272a4># .       specified). Use -c &lt;commit&gt; to reword the commit message.</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># These lines can be re-ordered; they are executed from top to bottom.</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># If you remove a line here THAT COMMIT WILL BE LOST.</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># However, if you remove everything, the rebase will be aborted.</span></span>
<span class=line><span style=color:#6272a4>#</span></span></code></pre><p>Lines starting with <code>#</code> are comments to help use edit the <em>todo file</em> to describe the operations we want to apply to the commits about to be rebased. The first lines are commands:</p><ul><li>First column: name of the command to apply</li><li>Second column: either a commit name for <code>pick</code>, <code>reword</code>, <code>edit</code>, <code>squash</code>, <code>fixup</code>, <code>drop</code>; or other command arguments for <code>exec</code>, <code>label</code>, <code>reset</code></li></ul><p>The description for these commands is pretty self-explanatory: each command is applied in order from top to bottom to the commits referenced in the command arguments. If a command fails, Git will stop the rebase process so you can fix the issue. Let’s look at some changes we can make to this history.</p><h3 id=squashing-commits>Squashing commits</h3><p>If for some reason you think two commits should be merged into one instead of being separated, you can use the squash command. Edit the <em>todo file</em> to squash the third commit into the second:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>pick a5aea3c Initial commit</span></span>
<span class=line><span style=color:#f8f8f2>pick 836ba41 Add error return to main</span></span>
<span class=line><span style=color:#f8f8f2>squash d105f20 Add success return to main</span></span></code></pre><p>Then, save the file and exit the editor to run rebasing:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>Auto-merging main.c</span></span>
<span class=line><span style=color:#f8f8f2>CONFLICT (content): Merge conflict in main.c</span></span>
<span class=line><span style=color:#f8f8f2>error: could not apply d105f20... Add success return to main</span></span>
<span class=line><span style=color:#f8f8f2>Resolve all conflicts manually, mark them as resolved with</span></span>
<span class=line><span style=color:#f8f8f2>&quot;git add/rm &lt;conflicted_files&gt;&quot;, then run &quot;git rebase --continue&quot;.</span></span>
<span class=line><span style=color:#f8f8f2>You can instead skip this commit: run &quot;git rebase --skip&quot;.</span></span>
<span class=line><span style=color:#f8f8f2>To abort and get back to the state before &quot;git rebase&quot;, run &quot;git rebase --abort&quot;.</span></span>
<span class=line><span style=color:#f8f8f2>Could not apply d105f20... Add success return to main</span></span></code></pre><p>Uh-oh. There is a merge conflict while rebasing (the same merge conflict we studied earlier in this article). This can happen when rebasing since some changes may not be compatible and thus require user action. We can solve the issue <code>git mergetool</code> and carry on with the rebase process:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#6272a4># Fix issues with your mergetool</span></span>
<span class=line><span style=color:#f8f8f2>$ git mergetool</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4># Continue rebasing</span></span>
<span class=line><span style=color:#f8f8f2>$ git rebase --continue</span></span></code></pre><p>Squashing commits brings up the editor again to write an appropriate commit message<sup><a href=#user-content-fn-fixup-instead-of-squash aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-fixup-instead-of-squash>2</a></sup>:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#6272a4># This is a combination of 2 commits.</span></span>
<span class=line><span style=color:#6272a4># This is the 1st commit message:</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>Add error return to main</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4># This is the commit message #2:</span></span>
<span class=line></span>
<span class=line><span style=color:#f8f8f2>Add success return to main</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4># Please enter the commit message for your changes. Lines starting</span></span>
<span class=line><span style=color:#6272a4># with &#39;#&#39; will be ignored, and an empty message aborts the commit.</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># Date:      Tue Dec 22 21:41:43 2020 +0100</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># interactive rebase in progress; onto bf1a9ac</span></span>
<span class=line><span style=color:#6272a4># Last commands done (3 commands done):</span></span>
<span class=line><span style=color:#6272a4>#    pick 836ba41 Add error return to main</span></span>
<span class=line><span style=color:#6272a4>#    squash d105f20 Add success return to main</span></span>
<span class=line><span style=color:#6272a4># No commands remaining.</span></span>
<span class=line><span style=color:#6272a4># You are currently rebasing branch &#39;master&#39; on &#39;bf1a9ac&#39;.</span></span>
<span class=line><span style=color:#6272a4>#</span></span>
<span class=line><span style=color:#6272a4># Changes to be committed:</span></span>
<span class=line><span style=color:#6272a4>#	modified:   main.c</span></span>
<span class=line><span style=color:#6272a4>#</span></span></code></pre><p>When you’re done editing your commit message, exit your editor and observe the completed result:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git log --oneline</span>
<span style=color:olive>31c5062</span><span style=color:olive> (</span><span style=font-weight:700;color:teal>HEAD -&gt; </span><span style=font-weight:700;color:green>master</span><span style=color:olive>)</span> Add return to main
<span style=color:olive>a5aea3c</span> Initial commit
</pre></div><p>With our properly written history, we can keep on working on our project.</p><h3 id=editing-commits>Editing commits</h3><p>Another option when rebasing is <em>editing</em> commits. This allows you to change the contents of a commit arbitrarily, by adding or removing changes, or changing the commit message<sup><a href=#user-content-fn-use-reword-instead aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-use-reword-instead>3</a></sup>. Let’s edit commit <code>31c5062</code> in the following history:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git log --oneline</span>
<span style=color:olive>b9d4427</span><span style=color:olive> (</span><span style=font-weight:700;color:teal>HEAD -&gt; </span><span style=font-weight:700;color:green>master</span><span style=color:olive>)</span> Add computation
<span style=color:olive>31c5062</span> Add return to main
<span style=color:olive>a5aea3c</span><span style=color:olive> (</span><span style=font-weight:700;color:green>origin/master</span><span style=color:olive>)</span> Initial commit
</pre></div><p>Running <code>git rebase -i origin/master</code>, switching the command for <code>31c5062</code> to <code>edit</code>, saving and quitting the editor will drop us back to the terminal. Again, Git indicates what the next steps are:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>Stopped at 31c5062...  Add return to main</span></span>
<span class=line><span style=color:#f8f8f2>You can amend the commit now, with</span></span>
<span class=line><span style=color:#f8f8f2></span></span>
<span class=line><span style=color:#f8f8f2>  git commit --amend</span></span>
<span class=line><span style=color:#f8f8f2></span></span>
<span class=line><span style=color:#f8f8f2>Once you are satisfied with your changes, run</span></span>
<span class=line><span style=color:#f8f8f2></span></span>
<span class=line><span style=color:#f8f8f2>  git rebase --continue</span></span></code></pre><p>I decided to add some comments to <code>main.c</code> as an example change. We can then continue with the rebasing process:</p><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
<span style=color:gray># Modify the current commit with the changes made to main.c, skip opening the editor</span>
$ <span style=font-weight:700;color:#fff>git commit --no-edit --amend main.c</span>
[detached HEAD ffd5f65] Add return to main
 Date: Tue Dec 22 21:41:43 2020 +0100
 1 file changed, 2 insertions(+)

<span style=color:gray># Continue the rebasing process</span>
$ <span style=font-weight:700;color:#fff>git rebase --continue</span>
[detached HEAD 6c65969] Add computation
 1 file changed, 5 insertions(+)
Successfully rebased and updated refs/heads/master.
</pre></div><p>We’re done with our changes!</p><h3 id=automating-rebasing-git-commit---fixup>Automating rebasing: <code>git commit --fixup</code></h3><p>Fixing a previous commit with rebasing is such a common occurrence that there are commands dedicated to handling this case. First, we need to change our <code>~/.gitconfig</code> a bit to make it easier to work with:</p><pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#6272a4># This may equivalently be changed with `git config --global rebase.autosquash true`</span></span>
<span class=line><span style=color:#f8f8f2>[rebase]</span></span>
<span class=line><span style=color:#f8f8f2>	</span><span style=color:#ff79c6>autosquash</span><span style=color:#f8f8f2> </span><span style=color:#ff79c6>=</span><span style=color:#f8f8f2> true</span></span></code></pre><p>The workflow for <code>git commit --fixup</code> is as follows:</p><ol><li>Change the working copy as needed, and stage the changes with <code>git add</code></li><li>Identify the commit you want to fix with <code>git log</code>. Let’s say we want to fix commit <code>ffd5f65</code><sup><a href=#user-content-fn-commit-ish aria-describedby=footnote-label data-footnote-ref="" id=user-content-fnref-commit-ish>4</a></sup> in our example.</li><li>Run <code>git commit --fixup ffd5f65</code>. Note that no message is needed: a placeholder mentioning this is a fix-up is generated, and will be discarded by the next step:</li></ol><div class="drop-shadow-sm rounded-md tm-output" style=background-color:#282a36;color:var(--tw-prose-pre-code)><div class="p-4 pb-1"><svg viewBox="0 0 54 14" height=14 width=54 xmlns=http://www.w3.org/2000/svg><g fill=none fill-rule=evenodd transform="translate(1 1)"><circle cx=6 cy=6 r=6 fill=#FF5F56 stroke=#E0443E stroke-width=.5></circle><circle cx=26 cy=6 r=6 fill=#FFBD2E stroke=#DEA123 stroke-width=.5></circle><circle cx=46 cy=6 r=6 fill=#27C93F stroke=#1AAB29 stroke-width=.5></circle></g></svg></div><pre class=mt-0 style=background-color:#282a36;color:var(--tw-prose-pre-code)>
$ <span style=font-weight:700;color:#fff>git commit --fixup ffd5f65</span>
[master cac3701] fixup! Add return to main
 1 file changed, 1 insertion(+), 1 deletion(-)
</pre></div><ol start=4><li>Run <code>git rebase -i</code>. This starts an interactive rebase onto the last pushed state of the current branch. This means it shouldn’t contain commits that were already shared with other collaborators. As you will notice, the fixup commit has been moved to the right location in the <em>TODO</em> file, and its action changed to <code>fixup</code> (due to the <code>.gitconfig</code> change we made earlier):<pre class=astro-code style=background-color:#282a36;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word><code><span class=line><span style=color:#f8f8f2>pick ffd5f65 Add return to main</span></span>
<span class=line><span style=color:#f8f8f2>fixup cac3701 fixup! Add return to main </span><span style=color:#6272a4># &lt;--- Our `git commit --fixup`</span></span>
<span class=line><span style=color:#f8f8f2>pick 6c65969 Add computation</span></span>
<span class=line></span>
<span class=line><span style=color:#6272a4># ...</span></span></code></pre></li><li>Exit the editor for the <em>TODO</em> file. Rebasing procede as we described earlier in this article, stopping if your changes were to trigger merge conflicts.</li></ol><p>Using <code>git commit --fixup</code> results in a more streamlined workflow, as you can just commit fixes to previous commits without interruption (i.e. you don’t have to clean your repository until you actually start the rebasing). Then, when you are preparing to push your work to the remote, run <code>git rebase -i</code> once and all the changes to the history will be properly integrated!</p><h2 id=bonus-round-making-your-shell-smarter>Bonus round: making your shell smarter</h2><p>Editing the history of a Git repository often requires looking up previous commit identifiers, which can quickly become tedious. Thankfully, modern shells support completion plugins tailored for Git, and by understanding which commands you are about to run, are able to suggest appropriate completions, such as references and commit SHAs. For example, here’s <a href=https://github.com/sorin-ionescu/prezto>Prezto</a>’s Git plugin at work, completing a <code>git commit --fixup</code> command (<code>&lt;TAB&gt;</code> will cycle through all the options in this menu):</p><p></p><figure class="flex flex-col"><img alt="Prezto Git completion" class=mx-auto decoding=async height=109 loading=lazy src=/_astro/zprezto-git-completion.f2f32380_Z17a2qj.png width=957></figure><p></p><p>These tools are huge time savers, so I highly recommend spending the time setting one up for your shell of choice:</p><ul><li><a href=https://git-scm.com/book/id/v2/Appendix-A%3A-Git-in-Other-Environments-Git-in-Bash>Bash, from the official Git Book</a></li><li><a href=https://github.com/sorin-ionescu/prezto>Zsh, Prezto</a>. Enable the <code>git</code> plugin in <code>zpreztorc</code>.</li><li><a href=https://ohmyz.sh/ >Zsh, oh-my-zsh</a>. Also look for the <code>git</code> plugin.</li></ul><p>Git GUIs can also help with those features, as well as editor plugins for your editor of choice.</p><h1 id=final-warning-do-not-rebase-pushed-commits>Final warning: do not rebase pushed commits</h1><p>I mentioned this multiple times, it is also mentioned in the Git manual pages, but <em><strong>do not rebase pushed commits</strong></em>. As rebasing changes the commit data, this effectively creates a fork in the history. Since this fork will prevent fast-forwarding the remote branch label when running <code>git push</code>, you will have to run <code>git push --force[-with-lease]</code>. This might:</p><ul><li>Destroy work pushed on the remote server (unless using <code>--force-with-lease</code> and making sure you didn’t discard it while editing the history).</li><li>Make others destroy their own work, when they’ll be force to run <code>git fetch &amp;&amp; git reset --hard origin/master</code> to reset their local copies to the new history you rebased (discarding the local state of the branch).</li></ul><p>So, unless you published secrets in your Git repository, <em><strong>do not</strong></em> rebase public history to change it.</p><h1 id=conclusion>Conclusion</h1><p>In this second part, we studied how to maintain a clean history using various more or less automated methods. Aside from making the history human-readable, we’ll see this plays a big role in some advanced uses of Git, such as <code>git bisect</code>, and how to fix our history-editing mistakes using the <em>reflog</em>; which we’ll see in the last part of this series.</p><section class=footnotes data-footnotes=""><h2 id=footnote-label class=sr-only>Footnotes</h2><ol><li id=user-content-fn-other-merge-tools><p>Aside from dedicated merge tools, most editors also support merge conflict resolution, either built-in or through plugins. Look online for instructions on how to set them up, for example for <a href=https://www.grzegorowski.com/using-vim-or-neovim-nvim-as-a-git-mergetool>Vim/Neovim</a> and <a href=http://blog.binchen.org/posts/emacs-is-the-best-merge-tool-for-git.html>Emacs</a>. <a href=#user-content-fnref-other-merge-tools class=data-footnote-backref aria-label="Back to content" data-footnote-backref="">↩</a></p></li><li id=user-content-fn-fixup-instead-of-squash><p>If you want to keep the first commit message and save yourself one step, you can use the <code>fixup</code> command, which does specifically that: squash commits, and keep the first message. <a href=#user-content-fnref-fixup-instead-of-squash class=data-footnote-backref aria-label="Back to content" data-footnote-backref="">↩</a></p></li><li id=user-content-fn-use-reword-instead><p>If you just want to change the message of a given commit, use the <code>reword</code> command to save you a few steps: this will drop you directly in an editor to change the message instead of having to use <code>git commit --amend</code>. <a href=#user-content-fnref-use-reword-instead class=data-footnote-backref aria-label="Back to content" data-footnote-backref="">↩</a></p></li><li id=user-content-fn-commit-ish><p>You may also use symbolic references (HEAD, branch names) or ancestry references such as <code>HEAD^</code> (the first parent of <code>HEAD</code>), or <code>HEAD~2</code> (the first parent of the first parent of <code>HEAD</code>). See <a href=https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection>https://git-scm.com/book/en/v2/Git-Tools-Revision-Selection</a> for more details. <a href=#user-content-fnref-commit-ish class=data-footnote-backref aria-label="Back to content" data-footnote-backref="">↩</a></p></li></ol></section></div><div class="flex flex-col justify-between max-w-3xl mx-auto sm:flex-row sm:px-6 mt-8 px-6"><ul class=mr-5><li class="inline-block bg-gray-100 dark:bg-zinc-700 font-medium lowercase mb-2 mr-2 px-2 py-0.5"><a href=/tags/tutorial/ class="text-muted dark:hover:text-gray-200 dark:text-zinc-300 hover:text-primary">tutorial</a></li><li class="inline-block bg-gray-100 dark:bg-zinc-700 font-medium lowercase mb-2 mr-2 px-2 py-0.5"><a href=/tags/git/ class="text-muted dark:hover:text-gray-200 dark:text-zinc-300 hover:text-primary">git</a></li></ul><div class="text-gray-500 align-middle dark:text-zinc-600 mt-5 sm:mt-1"><span class="text-gray-400 align-super dark:text-zinc-400 font-bold">Share:</span> <button class=ml-2 data-aw-social-share=twitter data-aw-url=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ title="Twitter Share" data-aw-text="Git is your friend, not your enemy — Part 2"><svg viewBox="0 0 24 24" class="h-6 w-6 dark:hover:text-zinc-300 dark:text-zinc-500 hover:text-black text-gray-400" astro-icon=ri:twitter-fill><path d="M22.162 5.656a8.384 8.384 0 0 1-2.402.658A4.196 4.196 0 0 0 21.6 4c-.82.488-1.719.83-2.656 1.015a4.182 4.182 0 0 0-7.126 3.814 11.874 11.874 0 0 1-8.62-4.37 4.168 4.168 0 0 0-.566 2.103c0 1.45.738 2.731 1.86 3.481a4.168 4.168 0 0 1-1.894-.523v.052a4.185 4.185 0 0 0 3.355 4.101 4.21 4.21 0 0 1-1.89.072A4.185 4.185 0 0 0 7.97 16.65a8.394 8.394 0 0 1-6.191 1.732 11.83 11.83 0 0 0 6.41 1.88c7.693 0 11.9-6.373 11.9-11.9 0-.18-.005-.362-.013-.54a8.496 8.496 0 0 0 2.087-2.165z" fill=currentColor /></svg></button> <button class=ml-2 data-aw-social-share=facebook data-aw-url=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ title="Facebook Share"><svg viewBox="0 0 24 24" class="h-6 w-6 dark:hover:text-zinc-300 dark:text-zinc-500 hover:text-black text-gray-400" astro-icon=ri:facebook-box-fill><path d="M15.402 21v-6.966h2.333l.349-2.708h-2.682V9.598c0-.784.218-1.319 1.342-1.319h1.434V5.857a19.19 19.19 0 0 0-2.09-.107c-2.067 0-3.482 1.262-3.482 3.58v1.996h-2.338v2.708h2.338V21H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4.598z" fill=currentColor /></svg></button> <button class=ml-2 data-aw-social-share=linkedin data-aw-url=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ title="Linkedin Share" data-aw-text="Git is your friend, not your enemy — Part 2"><svg viewBox="0 0 24 24" class="h-6 w-6 dark:hover:text-zinc-300 dark:text-zinc-500 hover:text-black text-gray-400" astro-icon=ri:linkedin-box-fill><path d="M18.335 18.339H15.67v-4.177c0-.996-.02-2.278-1.39-2.278-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387 2.7 0 3.2 1.778 3.2 4.091v4.715zM7.003 8.575a1.546 1.546 0 0 1-1.548-1.549 1.548 1.548 0 1 1 1.547 1.549zm1.336 9.764H5.666V9.75H8.34v8.589zM19.67 3H4.329C3.593 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.338C20.4 21 21 20.42 21 19.703V4.297C21 3.58 20.4 3 19.666 3h.003z" fill=currentColor /></svg></button> <button class=ml-2 data-aw-social-share=mail data-aw-url=https://vtavernier.github.io/posts/git-is-your-friend-part-2/ title="Email Share" data-aw-text="Git is your friend, not your enemy — Part 2"><svg viewBox="0 0 24 24" class="h-6 w-6 dark:hover:text-zinc-300 dark:text-zinc-500 hover:text-black text-gray-400" astro-icon=ri:mail-fill><path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm9.06 8.683L5.648 6.238 4.353 7.762l7.72 6.555 7.581-6.56-1.308-1.513-6.285 5.439z" fill=currentColor /></svg></button></div></div></article></section><div data-issue-term=pathname data-label=comments data-repo=vtavernier/vtavernier.github.io data-theme=github-dark id=utterances-container></div><div class="mx-auto sm:px-6 max-w-3xl px-6 md:pb-20 md:pt-4 pb-12 pt-8"><a href=/posts/ class="btn btn-ghost md:px-3 px-3"><svg viewBox="0 0 24 24" class="h-5 w-5 -ml-1.5 mr-1" astro-icon=tabler:chevron-left><path d="m15 6-6 6 6 6" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg> Back to Blog</a></div></main><footer class="border-gray-200 border-t dark:border-zinc-800 relative"><div class="dark:bg-dark absolute inset-0 pointer-events-none" aria-hidden=true></div><div class="mx-auto sm:px-6 px-4 dark:text-zinc-300 max-w-7xl relative"><div class="md:flex md:justify-between md:items-center md:py-8 py-6"><ul class="flex md:mb-0 -ml-2 mb-4 md:ml-4 md:order-1"><li><a href=mailto:v.tavernier@pm.me class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-zinc-700 hover:bg-zinc-100" aria-label=E-mail><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:mail><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=14 rx=2 width=18 x=3 y=5 /><path d="m3 7 9 6 9-6"/></g></svg></a></li><li><a href=https://github.com/vtavernier class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-zinc-700 hover:bg-zinc-100" aria-label=Github><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:brand-github><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2 4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21" fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 /></svg></a></li><li><a href=https://www.linkedin.com/in/vincent-tavernier-707b5012a/ class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-zinc-700 hover:bg-zinc-100" aria-label=LinkedIn><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:brand-linkedin><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><rect height=16 rx=2 width=16 x=4 y=4 /><path d="M8 11v5M8 8v.01M12 16v-5M16 16v-3a2 2 0 0 0-4 0"/></g></svg></a></li><li><a href=https://crates.io/users/vtavernier class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-zinc-700 hover:bg-zinc-100" aria-label=crates.io><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:package><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="m12 3 8 4.5v9L12 21l-8-4.5v-9L12 3M12 12l8-4.5M12 12v9M12 12 4 7.5M16 5.25l-8 4.5"/></g></svg></a></li><li><a href=/rss.xml class="items-center inline-flex dark:focus:ring-gray-700 dark:text-gray-400 focus:outline-none focus:ring-4 focus:ring-gray-200 p-2.5 rounded-lg text-sm text-muted dark:hover:bg-zinc-700 hover:bg-zinc-100" aria-label=RSS><svg viewBox="0 0 24 24" class="h-5 w-5" astro-icon=tabler:rss><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><circle cx=5 cy=19 r=1 /><path d="M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9"/></g></svg></a></li></ul><div class="mr-4 dark:text-zinc-400 text-sm">© 2019 ‒ 2024 Vincent Tavernier · All written content licensed under <a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ rel=license><abbr title="Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0)">CC BY-NC-SA 4.0</abbr></a> unless otherwise specified · Blog theme based on <a href=https://github.com/onwidget/astrowind class="items-center inline-flex" rel=external target=_blank>AstroWind <svg viewBox="0 0 24 24" class="inline-block h-4 w-4 mx-1" astro-icon=tabler:external-link><g fill=none class=icon-tabler stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M11 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-5M10 14 20 4M15 4h5v5"/></g></svg></a></div></div></div></footer><script type=module>import mermaid from"https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";mermaid.initialize({startOnLoad:!0,theme:"dark"})</script><script>!function(){const e="dark:only";function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function o(e,t,o){const n="string"==typeof e?document.querySelectorAll(e):e;n&&n.length&&n.forEach((e=>{e.addEventListener(t,(t=>o(t,e)),!1)}))}e&&e.endsWith(":only")||!localStorage.theme?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light"),window.onload=function(){let t=window.scrollY,n=!0;function a(){const e=document.getElementById("header");t>60&&!e.classList.contains("scroll")?document.getElementById("header").classList.add("scroll"):t<=60&&e.classList.contains("scroll")&&document.getElementById("header").classList.remove("scroll"),n=!1}o("[data-aw-toggle-menu]","click",(function(e,t){t.classList.toggle("expanded"),document.body.classList.toggle("overflow-hidden"),document.getElementById("header")?.classList.toggle("h-screen"),document.querySelector("#header nav")?.classList.toggle("hidden")})),o("[data-aw-toggle-color-scheme]","click",(function(){e.endsWith(":only")||(document.documentElement.classList.toggle("dark"),localStorage.theme=document.documentElement.classList.contains("dark")?"dark":"light")})),o("[data-aw-social-share]","click",(function(e,t){const o=t.getAttribute("data-aw-social-share"),n=encodeURIComponent(t.getAttribute("data-aw-url")),a=encodeURIComponent(t.getAttribute("data-aw-text"));let c;switch(o){case"facebook":c=`https://www.facebook.com/sharer.php?u=${n}`;break;case"twitter":c=`https://twitter.com/intent/tweet?url=${n}&text=${a}`;break;case"linkedin":c=`https://www.linkedin.com/shareArticle?mini=true&url=${n}&title=${a}`;break;case"whatsapp":c=`https://wa.me/?text=${a}%20${n}`;break;case"mail":c=`mailto:?subject=%22${a}%22&body=${a}%20${n}`;break;default:return}const s=document.createElement("a");s.target="_blank",s.href=c,s.click()})),a(),o([document],"scroll",(function(){t=window.scrollY,n||(window.requestAnimationFrame((()=>{a()})),n=!0)}))},window.onpageshow=function(){document.documentElement.classList.add("motion-safe:scroll-smooth");const e=document.querySelector("[data-aw-toggle-menu]");e&&e.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.querySelector("#header nav")?.classList.add("hidden")}}()</script></body></html>